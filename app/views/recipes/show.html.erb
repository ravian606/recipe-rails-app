<h1>Recipe Details </h1>
<% if @recipe.user.id == current_user.id %>
    <%= link_to 'Edit', edit_recipe_url(@recipe.id) %>
<% end %>
<br>
<%= link_to 'See All Recipes', root_path %>
<div class="card">
  <h5 class="card-header">Title: <%= @recipe.title %></h5>
  <div class="card-body">
    <h2 class="card-title">Difficulty: <%= @recipe.difficulty  %></h2>
    <p class="card-text">Description: <%= @recipe.descriptions %></p>

    <h2 class="card-title">Ingredients</h2>
    <% @recipe&.ingredients.each do |ingredient|  %>
        <p>Unit: <%= ingredient.unit %></p>
        <p>Amount: <%= ingredient.amount  %></p>
    <% end %>
    <br>
    <a href="#" class="btn btn-primary">Time: <%= @recipe.time %></a>
  </div>
</div>

<%= link_to 'Add Ingredients', new_recipe_ingredient_path(@recipe.id) %>

<% if can_add_rating?  %>
    <div class="form-group">
        <h1>Add Rating</h1>
        <%= form_for [@recipe, @ratings], method: :post do |f| %>
            <div class="mt-3">
                <label class="float-left"> <%= f.label 'rating' %> </label>
                <%= f.text_field :score, class: 'form-control', placeholder: 'rating' %>
            </div>
            <%= f.hidden_field :recipe_id, value: @recipe.id %>
            <div class="form-group mt-3">
                <%= f.submit %>
            </div>
        <% end %>
    </div>
<% end %>

<%= render partial: '/common/recipe_ratings_list', locals: {recipe: @recipe} %>
